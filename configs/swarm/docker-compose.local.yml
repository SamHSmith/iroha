# This file is generated by iroha_swarm.
# Do not edit it manually.

version: '3.8'
services:
  iroha0:
    build: ../..
    platform: linux/amd64
    environment:
      CHAIN_ID: 00000000-0000-0000-0000-000000000000
      PUBLIC_KEY: e7012102ACB0C88B96BCCD979A31E26967BEC6A2926512B29A753611F6F3CD1350B998F2
      PRIVATE_KEY_ALGORITHM: secp256k1
      PRIVATE_KEY_PAYLOAD: 8f4c15e5d664da3f13778801d23d4e89b76e94c1b94b389544168b6cb894f84f
      P2P_ADDRESS: 0.0.0.0:1337
      API_ADDRESS: 0.0.0.0:8080
      GENESIS_PUBLIC_KEY: ed01204164BF554923ECE1FD412D241036D863A6AE430476C898248B8237D77534CFC4
      GENESIS_PRIVATE_KEY_ALGORITHM: ed25519
      GENESIS_PRIVATE_KEY_PAYLOAD: 82b3bde54aebeca4146257da0de8d59d8e46d5fe34887dcd8072866792fcb3ad4164bf554923ece1fd412d241036d863a6ae430476c898248b8237d77534cfc4
      GENESIS_FILE: /config/genesis.json
      SUMERAGI_TRUSTED_PEERS: '[{"address":"iroha2:1339","public_key":"e70121034C80148A515A2BD68C8A7F9501287783565B419331335A45A516C4A681C62DCE"},{"address":"iroha1:1338","public_key":"e70121036813D9B08E4BBC6B29F9106BE53F19702C1E769E3C989C2372A93523622C1EAB"},{"address":"iroha3:1340","public_key":"e701210378BF47D91E4975AF19CFA00278FE1323B9F653DFCFD4DE57B594EA1DB5885B7A"}]'
    ports:
    - 1337:1337
    - 8080:8080
    volumes:
    - ./:/config
    init: true
    command: iroha --submit-genesis
    healthcheck:
      test: test $(curl -s http://127.0.0.1:8080/status/blocks) -gt 0
      interval: 2s
      timeout: 1s
      retries: 30
      start_period: 4s
  iroha1:
    build: ../..
    platform: linux/amd64
    environment:
      CHAIN_ID: 00000000-0000-0000-0000-000000000000
      PUBLIC_KEY: e70121036813D9B08E4BBC6B29F9106BE53F19702C1E769E3C989C2372A93523622C1EAB
      PRIVATE_KEY_ALGORITHM: secp256k1
      PRIVATE_KEY_PAYLOAD: c02ffad5e455e7ec620d74de5769681e4d8385906bce5a437eb67452a9efbbc2
      P2P_ADDRESS: 0.0.0.0:1338
      API_ADDRESS: 0.0.0.0:8081
      GENESIS_PUBLIC_KEY: ed01204164BF554923ECE1FD412D241036D863A6AE430476C898248B8237D77534CFC4
      SUMERAGI_TRUSTED_PEERS: '[{"address":"iroha0:1337","public_key":"e7012102ACB0C88B96BCCD979A31E26967BEC6A2926512B29A753611F6F3CD1350B998F2"},{"address":"iroha2:1339","public_key":"e70121034C80148A515A2BD68C8A7F9501287783565B419331335A45A516C4A681C62DCE"},{"address":"iroha3:1340","public_key":"e701210378BF47D91E4975AF19CFA00278FE1323B9F653DFCFD4DE57B594EA1DB5885B7A"}]'
    ports:
    - 1338:1338
    - 8081:8081
    volumes:
    - ./:/config
    init: true
    healthcheck:
      test: test $(curl -s http://127.0.0.1:8081/status/blocks) -gt 0
      interval: 2s
      timeout: 1s
      retries: 30
      start_period: 4s
  iroha2:
    build: ../..
    platform: linux/amd64
    environment:
      CHAIN_ID: 00000000-0000-0000-0000-000000000000
      PUBLIC_KEY: e70121034C80148A515A2BD68C8A7F9501287783565B419331335A45A516C4A681C62DCE
      PRIVATE_KEY_ALGORITHM: secp256k1
      PRIVATE_KEY_PAYLOAD: 29c5ed1409cb10fd791bc4ff8a6cb5e22a5fae7e36f448ef3ea2988b1319a88b
      P2P_ADDRESS: 0.0.0.0:1339
      API_ADDRESS: 0.0.0.0:8082
      GENESIS_PUBLIC_KEY: ed01204164BF554923ECE1FD412D241036D863A6AE430476C898248B8237D77534CFC4
      SUMERAGI_TRUSTED_PEERS: '[{"address":"iroha0:1337","public_key":"e7012102ACB0C88B96BCCD979A31E26967BEC6A2926512B29A753611F6F3CD1350B998F2"},{"address":"iroha1:1338","public_key":"e70121036813D9B08E4BBC6B29F9106BE53F19702C1E769E3C989C2372A93523622C1EAB"},{"address":"iroha3:1340","public_key":"e701210378BF47D91E4975AF19CFA00278FE1323B9F653DFCFD4DE57B594EA1DB5885B7A"}]'
    ports:
    - 1339:1339
    - 8082:8082
    volumes:
    - ./:/config
    init: true
    healthcheck:
      test: test $(curl -s http://127.0.0.1:8082/status/blocks) -gt 0
      interval: 2s
      timeout: 1s
      retries: 30
      start_period: 4s
  iroha3:
    build: ../..
    platform: linux/amd64
    environment:
      CHAIN_ID: 00000000-0000-0000-0000-000000000000
      PUBLIC_KEY: e701210378BF47D91E4975AF19CFA00278FE1323B9F653DFCFD4DE57B594EA1DB5885B7A
      PRIVATE_KEY_ALGORITHM: secp256k1
      PRIVATE_KEY_PAYLOAD: 5eed4855fad183c451aac39dfc50831607e4cf408c98e2b977f3ce4a2df42ce2
      P2P_ADDRESS: 0.0.0.0:1340
      API_ADDRESS: 0.0.0.0:8083
      GENESIS_PUBLIC_KEY: ed01204164BF554923ECE1FD412D241036D863A6AE430476C898248B8237D77534CFC4
      SUMERAGI_TRUSTED_PEERS: '[{"address":"iroha0:1337","public_key":"e7012102ACB0C88B96BCCD979A31E26967BEC6A2926512B29A753611F6F3CD1350B998F2"},{"address":"iroha2:1339","public_key":"e70121034C80148A515A2BD68C8A7F9501287783565B419331335A45A516C4A681C62DCE"},{"address":"iroha1:1338","public_key":"e70121036813D9B08E4BBC6B29F9106BE53F19702C1E769E3C989C2372A93523622C1EAB"}]'
    ports:
    - 1340:1340
    - 8083:8083
    volumes:
    - ./:/config
    init: true
    healthcheck:
      test: test $(curl -s http://127.0.0.1:8083/status/blocks) -gt 0
      interval: 2s
      timeout: 1s
      retries: 30
      start_period: 4s
